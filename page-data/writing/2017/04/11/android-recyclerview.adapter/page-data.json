{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/writing/2017/04/11/android-recyclerview.adapter",
    "result": {"data":{"post":{"slug":"/2017/04/11/android-recyclerview.adapter","title":"Android RecyclerView. Adapter implements Filterable","date":"Apr 11, 2016","tags":[{"name":"Java","slug":"java"},{"name":"Android","slug":"android"}],"description":"A quick little walk through of how I added filter functionality to my Wingapedia app using Android's RecyclerView.Adapter and Filterable.","canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Android RecyclerView. Adapter implements Filterable\",\n  \"description\": \"A quick little walk through of how I added filter functionality to my Wingapedia app using Android's RecyclerView.Adapter and Filterable.\",\n  \"date\": \"2016-04-11T00:00:00.000Z\",\n  \"tags\": [\"Java\", \"Android\"],\n  \"slug\": \"/2017/04/11/android-recyclerview.adapter\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"While working with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RecyclerView.Adapter\"), \" while building my Wingapedia Android app I needed to write a custom filter. Essentially I had two groupings of flavours and temperatures (I have to admit, now that I look back I definitely did some things wrong when designing this, but that's for another post) which I wanted to use to filter the items in the list.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"public class Flavour {\\n  protected String name;\\n  protected String description;\\n  protected boolean isBbq;\\n  protected boolean isGarlic;\\n\\n  // Setters and getters oh my\\n}\\n\")), mdx(\"p\", null, \"On the RecyclerView fragment we want to be able to filter on the name or description (entered in an EditText) as well as any of the isBbq or isGarlic flag within the class. If we were just to create a defualt custom filter it would look like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"public class FlavourFilter extends Filter {\\n  @Override\\n  protected FilterResults performFiltering(CharSequence constraint) {\\n    for (Flavour f : mItems) {\\n      if (f.getName().contains(constraint) || f.getDescription().contains(constraint) {\\n        mFilteredList.add(f);\\n      }\\n    }\\n  }\\n\\n  @Override\\n  protected void publishResults(CharSequence constraint, FilterResults results) {\\n    // Use mFilteredList to update mItems\\n  }\\n}\\n\")), mdx(\"p\", null, \"This is all well and good for Filters which only search by name and description, but what if we need to pass in and filter on more options within the item? We need to either pass in:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The full object to perform testing based on all (or some) fields.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A byte array used to determine whether flags are on or off.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"An object consisting of only the items we need to filter on.\")), mdx(\"p\", null, \"In this particular case I (update: sadly) decided that it would be a good idea to pass a JSON object from my \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FilterFlavourView\"), \" (responsible for selecting different temperatures, toppings, spices, etc). The JSON object contains the items that I'm interested in:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"searchString\"), \" which is a text based lookup.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"temperatureFlag\"), \" which is the byte flags of temperatures selected.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"tagList\"), \" which is a list of flavour tags.\")), mdx(\"p\", null, \"All of which are combined to filter the appropriate list. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"performFiltering\"), \" method gets replaced with:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"@Override\\nprotected FilterResults performFiltering(CharSequence constraint) {\\n  FilterResults results = new FilterResults();\\n\\n  // Set the constraint to a valid value\\n  filterString = (constraint != null) ? constraint.toString() : \\\"\\\";\\n\\n  // There was no Cache set to this adapter so we will return nothing\\n  // or there was no constraint set so we will return nothing.\\n  if (constraint == null || constraint.length() == 0) {\\n    List filtered = new ArrayList(mFullList);\\n    results.values = filtered;\\n    results.count = filtered.size();\\n    return results;\\n  }\\n\\n  try {\\n    JSONObject filter = new JSONObject(constraint.toString());\\n    mSearchString = filter.getString(\\\"Search\\\");\\n    mTemperatureFlag = filter.getInt(\\\"Temperatures\\\");\\n    mTagList = filter.getString(\\\"Tags\\\");\\n  } catch (Exception e) {\\n    // Attempting to map the JSONObject failed, most likely\\n    // constraint is just a String\\n    mSearchString = constraint.toString();\\n    mTemperatureFlag = 0;\\n    mTagList = \\\"\\\";\\n  }\\n\\n  mTags = parseTags();\\n\\n  List<Flavour> filtered = new ArrayList<>();\\n  boolean foundTag;\\n  for (Object obj : mFullList) {\\n    Flavour flavour = (Flavour) obj;\\n    //Log.v(\\\"Filtering\\\", \\\"Flavour \\\" + flavour.toString());\\n\\n    // If Tags were provided in the Search request, check to see if the\\n    // Tag is associated to the wing Flavour\\n    foundTag = false;\\n    if (mTags != null) {\\n      for (int i = 0; i < mTags.length; i++) {\\n        if (flavour.getTags().contains(mTags[i])) {\\n          foundTag = true;\\n          break;\\n        }\\n      }\\n    } else {\\n      foundTag = true;\\n    }\\n\\n    if ( (mSearchString.length() == 0\\n              || flavour.getName().toLowerCase().contains(mSearchString.toLowerCase()))\\n          && (mTemperatureFlag == Temperature.ALL_TEMPS\\n              || (flavour.getTemperature().getFilterFlag() & mTemperatureFlag) != 0)\\n          && foundTag ){\\n\\n      filtered.add(flavour);\\n    }\\n  }\\n\\n  results.values = filtered;\\n  results.count = filtered.size();\\n\\n  return results;\\n}\\n\")), mdx(\"p\", null, \"The filtered list is now combined with the three lookups that were required: search text, temperature and flavour.\"), mdx(\"h4\", null, \"P.S ~ May 2017\"), mdx(\"p\", null, \"With a combination of All Star Wings going out of business (at least near me) and Google Play requiring a privacy policy (which I didn't have time nor interest in writing) \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Wingapedia\"), \" has sadly been removed from the store.\"), mdx(\"h4\", null, \"P.P.S ~ Jan 2018\"), mdx(\"p\", null, \"I've had some interest come up in bringing this app back online, although making it customizable for the food industry. I'll probably look into bringing this back up using React Native or Flutter.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"While working with the  RecyclerView.Adapter  while building my Wingapedia Android app I needed to write a custom filter. Essentially I hadâ€¦","timeToRead":1,"banner":null}},"pageContext":{"slug":"/2017/04/11/android-recyclerview.adapter","formatString":"MMM DD, yyyy"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}