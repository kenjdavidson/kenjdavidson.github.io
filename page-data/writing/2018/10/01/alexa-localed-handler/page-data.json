{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/writing/2018/10/01/alexa-localed-handler",
    "result": {"data":{"post":{"slug":"/2018/10/01/alexa-localed-handler","title":"Alexa skill(s) backed by Java Resource(s)","date":"Apr 20, 2018","tags":[{"name":"Java","slug":"java"},{"name":"Alexa","slug":"alexa"}],"description":"I wanted to play around with the Alexa Skills Kit to see if I could make a pseudo framework for using Java's built in Resource functionality to provide language support.  It didn't go far, but it was a fun process.","canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Alexa skill(s) backed by Java Resource(s)\",\n  \"description\": \"I wanted to play around with the Alexa Skills Kit to see if I could make a pseudo framework for using Java's built in Resource functionality to provide language support.  It didn't go far, but it was a fun process.\",\n  \"date\": \"2018-04-20T00:00:00.000Z\",\n  \"tags\": [\"Java\", \"Alexa\"],\n  \"slug\": \"/2018/10/01/alexa-localed-handler\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I wanted to start playing around with Alexa skills, I had a view ideas but no experience and needed a good starting place. Figured I\\u2019d hit two birds with one stone by creating a base skill handler to take advantage of some common features across all the skills that I wanted to work towards. I know that Alexa works with locales and I wanted my skills to be available across the board; or to be extendable easily for others.\"), mdx(\"p\", null, \"Creating a simple set of abstract Handlers and Skills that could easily lookup message content for different locales using Java ResourceBundles. I figured that starting off with localed responses would be good, even though after looking into how requests work the Alexa Skill would need to have custom interaction models for each language. Throughout this project, the code will be available at Github. If at any point, anyone out there reading this, sees that I zigged when I should have zagged, please let me know.\"), mdx(\"h2\", null, \"Project Overview\"), mdx(\"p\", null, \"Following a number of the tutorials on the Alexa SDK \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.amazon.com/docs/alexa-skills-kit-sdk-for-java/overview.html\"\n  }, \"https://developer.amazon.com/docs/alexa-skills-kit-sdk-for-java/overview.html\"), \". When I started the project I was hadn't gotten too far into Node, so Java seemed to be a decent way to get started; since then I've been doing more JavaScript development and gotten a little more comfortable with Node and will have slowly let this version of the project go.\"), mdx(\"h2\", null, \"AlexaLocaleStreamHandler\"), mdx(\"p\", null, \"Creates the Alexa skill using the SDK, each of the handlers provided can be hard coded or can be implementations of the LocaledRequestHandler. Getting started the skill is created as documented:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"public class AlexaLocaleStreamHandler extends SkillStreamHandler {\\n  private static final String ENV_APP_ID = \\\"alexa.app.id\\\";\\n\\n  private static Skill getSkill() {\\n    return new CustomSkillBuilder()\\n      .withSkillId(System.getenv(ENV_APP_ID))\\n      .addRequestHandlers(new LaunchRequestHandler(),\\n          new HelpRequestHandler(),\\n          new CancelOrStopRequestHandler())\\n      .addExceptionHandlers(new UnhandledSkillExceptionHandler())\\n      .build();\\n  }\\n\\n  public AlexaLocaleStreamHandler() {\\n    super(getSkill());\\n  }\\n}\\n\")), mdx(\"h2\", null, \"LocaledRequestHandler\"), mdx(\"p\", null, \"The LocaledRequestHandler is responsible for loading the supplied \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ResourceBundle\"), \" when the annotation \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@LocaleResourceBase\"), \" is provided on the class. The following \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HelloWorldHandler\"), \" will load and use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"messages/hello-world.properties\"), \" file (using standard resource locale selectors).\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"@LocaleResourceBase(\\\"messages/hello-world\\\")\\nclass HelloWorldHandler extends LocaledRequestHandler {\\n  @Override\\n  protected Optional<Response> handleRequest(HandlerInput input, ResourceBundle rb) {\\n    String speech = getMessage(rb, \\\"welcome\\\", \\\"Welcome to the Alexa locale skill.\\\");\\n    return input.getResponseBuilder()\\n      .withSpeech(speech)\\n      .withReprompt(speech)\\n      .withSimpleCard(\\\"Hello\\\", speech)\\n      .build();\\n  }\\n}\\n\")), mdx(\"p\", null, \"If no value is specified for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@LocaleResourceBase\"), \" annotation, then the properties file used should exist within the same class path, for example the default file would be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kjd.alexa.locale.handler.HelloWorldHandler.properties\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"welcome=Welcome to the Alexa locale skill.\\n\")), mdx(\"h2\", null, \"Update\"), mdx(\"p\", null, \"This project kind of fell by the wayside as I slowly started getting more into Node development at work and in my free time.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"I wanted to start playing around with Alexa skills, I had a view ideas but no experience and needed a good starting place. Figured I’d hit…","timeToRead":1,"banner":null}},"pageContext":{"slug":"/2018/10/01/alexa-localed-handler","formatString":"MMM DD, yyyy"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}