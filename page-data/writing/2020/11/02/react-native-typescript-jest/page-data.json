{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/writing/2020/11/02/react-native-typescript-jest",
    "result": {"data":{"post":{"slug":"/2020/11/02/react-native-typescript-jest","title":"Typescript React Native with Jest","date":"Nov 02, 2020","tags":[{"name":"React Native","slug":"react-native"},{"name":"Typescript","slug":"typescript"},{"name":"Jest","slug":"jest"}],"description":"Still going down the Typescript conversion of React Native Bluetooth Classic it was time to get the library setup with actual unit testing.  Follow along with another few days of failures and successes.","canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Typescript React Native with Jest\",\n  \"description\": \"Still going down the Typescript conversion of React Native Bluetooth Classic it was time to get the library setup with actual unit testing.  Follow along with another few days of failures and successes.\",\n  \"date\": \"2020-11-02T00:00:00.000Z\",\n  \"tags\": [\"React Native\", \"Typescript\", \"Jest\"],\n  \"slug\": \"/2020/11/02/react-native-typescript-jest\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"So I've been slowly converting \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kenjdavidson.com/react-native-bluetooth-classic\"\n  }, \"react-native-bluetooth-classic\"), \" to Typescript, which went off fairly well, and decided it would be a good idea to start adding tests. Figured it would get me some experience working with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://jestjs.io/\"\n  }, \"Jest\"), \" and getting a better product available for everyone.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"I think I've made a huge mistake!!\")), mdx(\"p\", null, \"Although I don't actually regret the decision, it's defintely been more of a process than I had originally anticipated. This post isn't going to be anything original, it's just going to be the process that was required in order to get things working.\"), mdx(\"h2\", null, \"Getting Started\"), mdx(\"p\", null, \"Following the treasure trail of internet posts documenting how to get Typescript, Jest and React Native working together, it was apparent that it would be a little bit of work, but generally fairly straight forward. The consensus is that the following libraries are required:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://jestjs.io/\"\n  }, \"Jest\"), \" obviously as the testing framework. Since it's developed by Facebook and baked into React Native it makes sense.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://kulshekhar.github.io/ts-jest/\"\n  }, \"ts-jest\"), \" which from Medium and other sites is the best Typescript/Jest library. It also provides a pretty decide guide on setting things up.\")), mdx(\"h2\", null, \"Installing the Things\"), mdx(\"p\", null, \"First thing first, lets follow \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kulshekhar.github.io/ts-jest/user/install\"\n  }, \"ts-jest/install\"), \" and get all our ducks in a row. First we'll install all the\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"npm install --save-dev jest ts-jest @types/jest\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Install all the libraries required (Typescript was already installed)\")), mdx(\"h2\", null, \"Configuring the Things\"), mdx(\"p\", null, \"Once we've got things installed, we can get to configuring, here's another instance of following the internet treasure trail. We take a look at the available documentation on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ts-jest\"), \" there is a page specific to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kulshekhar.github.io/ts-jest/user/react-native/\"\n  }, \"ts-config/react-native\"), \". The first thing we come to when we get there, is that we should check out another post on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://reactnative.dev/blog/2018/05/07/using-typescript-with-react-native\"\n  }, \"react-native Typescript\"), \".\"), mdx(\"h3\", null, \"Using TypeScript with React Native\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://reactnative.dev/blog/2018/05/07/using-typescript-with-react-native\"\n  }, \"Using TypeScript with React Native\")), mdx(\"p\", null, \"Jumping down the page the first section of importance is \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://reactnative.dev/blog/2018/05/07/using-typescript-with-react-native#adding-typescript\"\n  }, \"adding typescript\"), \", the key parts being the added typescript transformer and the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"react native config\"), \" file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"npm install --save-dev react-native-typescript-transformer\\nnpm install --save-dev @types/jest @types/react @types/react-native @types/react-test-renderer\\ntouch rn-cli.config.js\\n\")), mdx(\"p\", null, \"uncommenting the appropriate lines in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tsconfig.json\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  /* Search the config file for the following line and uncomment it. */\\n  \\\"allowSyntheticDefaultImports\\\": true /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */\\n}\\n\")), mdx(\"p\", null, \"and finally adding the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rn-cli.config.js\"), \" configuration:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// rn-cli.config.js\\nmodule.exports = {\\n  getTransformModulePath() {\\n    return require.resolve('react-native-typescript-transformer');\\n  },\\n  getSourceExts() {\\n    return ['ts', 'tsx'];\\n  },\\n};\\n\")), mdx(\"p\", null, \"The next key spot is \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://reactnative.dev/blog/2018/05/07/using-typescript-with-react-native#adding-typescript-testing-infrastructure\"\n  }, \"adding typescript testing infrastrucure\"), \" where it says to add the configuration to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \", which clearly went against most of the other configuration places. After trying both ways, I can confirm that having the Jest configuration inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" does not work.\"), mdx(\"p\", null, \"So we'll just stick with the same content in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jest.config.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"{\\n  \\\"jest\\\": {\\n    \\\"preset\\\": \\\"react-native\\\",\\n    \\\"moduleFileExtensions\\\": [\\n      \\\"ts\\\",\\n      \\\"tsx\\\",\\n      \\\"js\\\"\\n    ],\\n    \\\"transform\\\": {\\n      \\\"^.+\\\\\\\\.(js)$\\\": \\\"<rootDir>/node_modules/babel-jest\\\",\\n      \\\"\\\\\\\\.(ts|tsx)$\\\": \\\"<rootDir>/node_modules/ts-jest/preprocessor.js\\\"\\n    },\\n    \\\"testRegex\\\": \\\"(/__tests__/.*|\\\\\\\\.(test|spec))\\\\\\\\.(ts|tsx|js)$\\\",\\n    \\\"testPathIgnorePatterns\\\": [\\n      \\\"\\\\\\\\.snap$\\\",\\n      \\\"<rootDir>/node_modules/\\\"\\n    ],\\n    \\\"cacheDirectory\\\": \\\".jest/cache\\\"\\n  }\\n}\\n\")), mdx(\"p\", null, \"So this is where the first issue happens, because this is a library it has \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native\"), \" set as peer dependencies.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"> react-native-bluetooth-classic@1.0.0-rc.2 test /Users/kendavidson/git/react-native-bluetooth-classic\\n> jest\\n\\n\\u25CF Validation Error:\\n\\n  Preset react-native is invalid:\\n\\n  The \\\"id\\\" argument must be of type string. Received type object\\n  TypeError [ERR_INVALID_ARG_TYPE]: The \\\"id\\\" argument must be of type string. Received type object\\n\")), mdx(\"p\", null, \"Installing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native\"), \" (following the lowest version requirements in the peer dependencies) as dev dependencies cleared this issue up.\"), mdx(\"h3\", null, \"ts-config React Native\"), mdx(\"p\", null, \"Now that we've followed that doc, we can go back to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kulshekhar.github.io/ts-jest/user/react-native/\"\n  }, \"ts-config/react-native\"), \" page and continue to follow along. First we need to create the Babel configuration:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// babel.config.js\\nmodule.exports = {\\n  presets: ['module:metro-react-native-babel-preset'],\\n};\\n\")), mdx(\"p\", null, \"and then we need to modify the Jest configuration:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// jest.config.js\\nconst { defaults: tsjPreset } = require('ts-jest/presets');\\n\\nmodule.exports = {\\n  ...tsjPreset,\\n  preset: 'react-native',\\n  transform: {\\n    ...tsjPreset.transform,\\n    '\\\\\\\\.js$': '<rootDir>/node_modules/react-native/jest/preprocessor.js',\\n  },\\n  globals: {\\n    'ts-jest': {\\n      babelConfig: true,\\n    },\\n  },\\n  // This is the only part which you can keep\\n  // from the above linked tutorial's config:\\n  cacheDirectory: '.jest/cache',\\n};\\n\")), mdx(\"p\", null, \"Which essentially rewrites the original file, pretty much we're just adding the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native/jest/preprocessor.js\"), \" so that the imported React Native modules are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"compiled\"), \" correctly during testing.\"), mdx(\"h2\", null, \"Writing a Test\"), mdx(\"p\", null, \"The first thing that I wanted to do, was move the validation of IOS and Android logic to Javascript, instead of bothing to call IOS Native for things that don't exist. To do this it made sense to test things based on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Platform\"), \" (mocking Platform):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"/// __tests__/BluetoothClassicModule.ios.test.js\\nimport { Platform } from 'react-native';\\n\\n// No dice\\njest.mock('Platform', () => {\\n  ...\\n});\\n\\n// No dice\\njest.mock('/react-native/Libraries/Utilities/Platform', () => {\\n  ...\\n});\\n\")), mdx(\"p\", null, \"This one took a bunch of Googling. While attempting to mock the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Platform\"), \" module directly, would continually throw errors that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Platform could not be found in /react-native/Libraries/Utlities/react-native-implementation.js\"), \". The key here is \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/facebook/react-native/issues/26579#issuecomment-535244001\"\n  }, \"https://github.com/facebook/react-native/issues/26579#issuecomment-535244001\"), \" which explains:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"This is intentional and you need to mock modules the same way as any other JS module now. You could in theory specify the path to the TextInput module, but the path is a private implementation detail that could change between releases. The logically correct approach is to code to the interface and mock out react-native.\")), mdx(\"p\", null, \"which makes complete sense. The resulting mock becomes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"/// __tests__/BluetoothClassicModule.ios.test.js\\nimport { Platform } from 'react-native';\\n\\njest.mock('react-native', () => ({\\n  Platform: { OS: 'ios' },\\n}));\\n\\ndescribe('React Native Platform', () => {\\n  test(\\\"Platform.OS should be 'ios'\\\", () => {\\n    expect(Platform.OS).toBe('ios');\\n  });\\n});\\n\")), mdx(\"p\", null, \"which finally results in a successful test:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"> react-native-bluetooth-classic@1.0.0-rc.2 test /Users/kendavidson/git/react-native-bluetooth-classic\\n> jest\\n\\n PASS  __tests__/BluetoothModule.ios.test.ts\\n  React Native Platform\\n    \\u2713 Platform.OS should be 'ios' (2 ms)\\n\\nTest Suites: 1 passed, 1 total\\nTests:       1 passed, 1 total\\nSnapshots:   0 total\\nTime:        2.03 s, estimated 7 s\\nRan all test suites.\\n\")), mdx(\"h2\", null, \"Sadly a Waste of Time\"), mdx(\"p\", null, \"And just as I thought, you take one step forward and two steps back. Since I'm working on a library I want to be able to test said library without having to push changes to Git/Npm in order to test. For this reason I have the following structure:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"|- react-native-bluetooth-classic\\n  |- BluetoothClassciExample\\n  | |- node_modules\\n  |- node_modules\\n\")), mdx(\"p\", null, \"and I run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native start\"), \" out of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"BluetoothClassciExample\"), \". To get this working I have a customized \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"metro.config.js\"), \" which pulls in my \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native-bluetooth-classic\"), \" module from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"../\"), \". The sad thing here is that I'm unaware of a way to make it NOT use the now required local node_modules dependency of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native\"), \".\"), mdx(\"p\", null, \"Now because \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native\"), \" is being loaded twice:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\\n\\u2502                                                                              \\u2502\\n\\u2502  Running Metro Bundler on port 8081.                                         \\u2502\\n\\u2502                                                                              \\u2502\\n\\u2502  Keep Metro running while developing on any JS projects. Feel free to        \\u2502\\n\\u2502  close this tab and run your own Metro instance if you prefer.               \\u2502\\n\\u2502                                                                              \\u2502\\n\\u2502  https://github.com/facebook/react-native                                    \\u2502\\n\\u2502                                                                              \\u2502\\n\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\\n\\nLooking for JS files in\\n   /Users/kendavidson/git/react-native-bluetooth-classic/BluetoothClassicExample\\n   /Users/kendavidson/git/react-native-bluetooth-classic\\n\")), mdx(\"p\", null, \"There are a large number of conflicts and issues which which cause a bunch of crazy errors:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/expo/expo/issues/916\"\n  }, \"https://github.com/expo/expo/issues/916\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://stackoverflow.com/questions/46312103/react-native-module-hmrclient-is-not-a-registered-callable-module-calling-enabl\"\n  }, \"https://stackoverflow.com/questions/46312103/react-native-module-hmrclient-is-not-a-registered-callable-module-calling-enabl\"))), mdx(\"p\", null, \"which all seem to point to things like \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"hot reloading\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"dev mode\"), \", resetting cache, adb reverse, etc. None of which work, so sadly at this point it looks like I either get:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"to run tests\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"to run dev apps easier\")), mdx(\"p\", null, \"and at this point I'm going with option 2. Sorry testing!\"), mdx(\"s\", null, \"If you've got a way for me to load `../` but ignore `../node_modules` during development, shoot me an email. But until then I'll have to put this on the back burner.\"), mdx(\"h3\", null, \"Edit Nov 02 2020\"), mdx(\"p\", null, \"After some late night and early morning Googling, I came across a customization of Metro that seems to fit better with my example \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://medium.com/@charpeni/setting-up-an-example-app-for-your-react-native-library-d940c5cf31e4\"\n  }, \"https://medium.com/@charpeni/setting-up-an-example-app-for-your-react-native-library-d940c5cf31e4\"), \" which makes the following changes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Replace \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"resolver.extraNodeModules\"), \" with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"watchFolders\"), \" in the \", mdx(\"strong\", null, \"metro\"), \" configuration.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adds in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"resolver.blacklist\"))), mdx(\"p\", null, \"Which doesn't even exist on the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://facebook.github.io/metro/docs/configuration/#blocklist\"\n  }, \"Metro config\"), \" where it's called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resolver.blockList\"), \". The issue here is that it specifically says:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"A RegEx defining which paths to ignore, however if a blocklisted file is required it will be brought into the dependency graph.\")), mdx(\"p\", null, \"But it's worth a shot!!\"), mdx(\"h2\", null, \"Edits\"), mdx(\"h3\", null, \"Nov 03 2020... Kinda\"), mdx(\"p\", null, \"After following the previous posts information, there are still errors that revolve around \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lib/node_modules/react-native\"), \" being installed. When attempting to run, it's still attempting to load the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native\"), \" from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"../node_modules\"), \" lib folder instead of from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/example/node_modules/\"), \" folder causing all those wonderful duplicate React Native issues.\"), mdx(\"p\", null, \"So at this point, I can write my tests with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native\"), \" installed, then uninstall them when I want to start doing more live testing within the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BluetoothClassicExample\"), \" app.\"), mdx(\"p\", null, \"Since this seems to work for this post (and others) I'm starting to think that the issue is the introduction of Typescript during the build process. But at this point I'd rather keep Typescript (and deal with the \", \"[un]\", \"installing) rather than go back to plain JavaScript or do the half way kludge of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"babel-typescript\"), \" at this point.\"), mdx(\"h3\", null, \"Nov 20 2020... Kindaer\"), mdx(\"p\", null, \"This edit was a little late, but things are finally working. Using the same \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"metro-config\"), \" above, but changing the strcuture of the projects, I'm able to finally:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Run the development application\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Have \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"react\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"react-native\"), \" devDependencies for testing\")), mdx(\"p\", null, \"using the following structure:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"|- git\\n  |- react-native-bluetooth-classic\\n  |- react-native-bluetooth-classic-apps\\n    |- BluetoothClassicExample\\n\")), mdx(\"p\", null, \"I know it might be a little much, but I chose the extra layer in case I needed to provide sample apps for things like: different versions, bug fixes, etc. This also cleans up the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native-bluetooth-classic\"), \" project in that only tests are required.\"), mdx(\"p\", null, \"Now I just have to write them :(\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"So I've been slowly converting  react-native-bluetooth-classic  to Typescript, which went off fairly well, and decided it would be a goodâ€¦","timeToRead":4,"banner":null}},"pageContext":{"slug":"/2020/11/02/react-native-typescript-jest","formatString":"MMM DD, yyyy"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}